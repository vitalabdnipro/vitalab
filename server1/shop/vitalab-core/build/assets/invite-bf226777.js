import{a7 as k,r as z,d1 as w,u as y,j as e,B as n}from"./index-7bbcdb2e.js";import{q}from"./index-39a3bf37.js";import{c as T,g as S,I as r,u as C}from"./index-76ee031c.js";import{d as E}from"./index.modern-6696862a.js";import{P as d,S as m}from"./login-layout-a27563fd.js";import{S as t}from"./index-b7f0d122.js";import{F as u}from"./index-67f75529.js";const Y=()=>{const c=k(),s=q.parse(c.search.substring(1)),[p,b]=z.useState(!1);let l=null;if(s!=null&&s.token)try{l=E(s.token)}catch{l=null}const{register:i,handleSubmit:f,formState:{errors:o},setError:v}=T({defaultValues:{first_name:"",last_name:"",password:"",repeat_password:""}}),{mutate:h,isLoading:j}=w(),_=y(),N=C(),g=f(a=>{if(a.password!==a.repeat_password){v("repeat_password",{type:"manual",message:"Passwords do not match"},{shouldFocus:!0});return}h({token:s.token,user:{first_name:a.first_name,last_name:a.last_name,password:a.password}},{onSuccess:()=>{_("/login")},onError:x=>{N("Error",S(x),"error")}})});return l?e(d,{children:[e(t,{title:"Create Account"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:113,columnNumber:7},globalThis),p?e("form",{onSubmit:g,children:e("div",{className:"flex flex-col items-center",children:[e("h1",{className:"inter-xlarge-semibold mb-large text-[20px]",children:"Create your Medusa account"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:117,columnNumber:13},globalThis),e("div",{className:"gap-y-small flex flex-col",children:[e("div",{children:[e(m,{placeholder:"First name",...i("first_name",{required:u.required("First name")}),autoComplete:"given-name"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:122,columnNumber:17},globalThis),e(r,{errors:o,name:"first_name"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:129,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:121,columnNumber:15},globalThis),e("div",{children:[e(m,{placeholder:"Last name",...i("last_name",{required:u.required("Last name")}),autoComplete:"family-name"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:132,columnNumber:17},globalThis),e(r,{errors:o,name:"last_name"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:139,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:131,columnNumber:15},globalThis),e("div",{children:e(m,{placeholder:"Password",type:"password",...i("password",{required:u.required("Password")}),autoComplete:"new-password"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:142,columnNumber:17},globalThis)},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:141,columnNumber:15},globalThis),e("div",{children:[e(m,{placeholder:"Confirm password",type:"password",...i("repeat_password",{required:"You must confirm your password"}),autoComplete:"new-password"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:152,columnNumber:17},globalThis),e(r,{errors:o,name:"repeat_password"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:160,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:151,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:120,columnNumber:13},globalThis),e(n,{variant:"secondary",size:"medium",className:"mt-large w-[280px]",loading:j,children:"Create account"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:163,columnNumber:13},globalThis),e("p",{className:"inter-small-regular text-grey-50 mt-xlarge",children:["Already signed up? ",e("a",{href:"/login",children:"Log in"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:172,columnNumber:34},globalThis)]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:171,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:116,columnNumber:11},globalThis)},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:115,columnNumber:9},globalThis):e("div",{className:"flex flex-col items-center text-center",children:[e("h1",{className:"inter-xlarge-semibold text-[20px]",children:"You have been invited to join the team"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:178,columnNumber:11},globalThis),e("p",{className:"inter-base-regular text-grey-50 mt-xsmall",children:["You can now join the team. Sign up below and get started",e("br",{},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:183,columnNumber:13},globalThis),"with your Medusa account right away."]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:181,columnNumber:11},globalThis),e(n,{variant:"secondary",size:"medium",className:"mt-xlarge w-[280px]",onClick:()=>b(!0),children:"Sign up"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:186,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:177,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:112,columnNumber:5},globalThis):e(d,{children:[e(t,{title:"Create Account"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:94,columnNumber:9},globalThis),e("div",{className:"gap-y-xsmall flex flex-col items-center",children:[e("h1",{className:"inter-xlarge-semibold mb- text-[20px]",children:"Invalid invite"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:96,columnNumber:11},globalThis),e("p",{className:"inter-base-regular text-grey-50 w-[280px] text-center",children:"The invite link you have used is invalid. Please contact your administrator."},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:99,columnNumber:11},globalThis),e("p",{className:"inter-small-regular text-grey-40 mt-xlarge",children:["Already have an account? ",e("a",{href:"/login",children:"Log in"},void 0,!1,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:104,columnNumber:38},globalThis)]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:103,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:95,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/home/reckful/projects/vitalab/vitalab-core/node_modules/.pnpm/@medusajs+admin-ui@1.8.5_z4sqprznoyhjur7cbrfxwlka6m/node_modules/@medusajs/admin-ui/ui/src/pages/invite.tsx",lineNumber:93,columnNumber:7},globalThis)};export{Y as default};
